var v=Object.defineProperty;var b=(t,i,o)=>i in t?v(t,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[i]=o;var m=(t,i,o)=>(b(t,typeof i!="symbol"?i+"":i,o),o);import"../../modulepreload-polyfill-3cfb730f.js";/* empty css                  */import{p as g}from"../../p5.min-9f376f7a.js";import{t as k}from"../../tweakpane-5ac9913a.js";import"../../_commonjsHelpers-725317a4.js";import"../../_commonjs-dynamic-modules-302442b1.js";const H={randomEachStep:"random",allRandom:"randomEach",sameRandomEach:"sameEach",sameAlways:"same"},e={edges:"same",forceHigh:.1,forceLow:.06};new g(t=>{let i=[],o,a,f=new k.Pane;f.addInput(e,"edges",{options:H}),f.addInput(e,"forceHigh",{min:0,max:.3}),f.addInput(e,"forceLow",{min:0,max:.3}),f.on("change",()=>{a.clear(),i.forEach(r=>{r.edgeForce=h()}),o=h()});class u extends g.Vector{constructor(d,l,c,n=1){super(d,l);m(this,"radius");m(this,"acceleration",new g.Vector);m(this,"velocity",new g.Vector);m(this,"mass");m(this,"edgeForce");this.radius=c,this.mass=n,this.edgeForce=h()}applyForce(d){let l=d.copy().div(this.mass);this.acceleration.add(l)}update(){this.velocity.add(this.acceleration),this.acceleration.mult(0),this.add(this.velocity)}distFromEdge(){return{left:this.x-this.radius,right:t.width-this.x-this.radius,top:this.y-this.radius,bottom:t.height-this.y-this.radius}}checkEdges(){this.x+this.radius>=t.width?(this.x=t.width-this.radius,this.velocity.x*=-1):this.x-this.radius<=0&&(this.x=this.radius,this.velocity.x*=-1),this.y+this.radius>=t.height?(this.velocity.y*=-1,this.y=t.height-this.radius):this.y-this.radius<=0&&(this.velocity.y*=-1,this.y=this.radius)}draw(){t.circle(this.x,this.y,this.radius*2)}}function h(){return{left:t.random(e.forceLow,e.forceHigh),right:t.random(e.forceLow,e.forceHigh),top:t.random(e.forceLow,e.forceHigh),bottom:t.random(e.forceLow,e.forceHigh)}}t.setup=()=>{t.createCanvas(400,400);for(let r=0;r<7;r++)i.push(new u(t.random(t.width),t.random(t.height),10,.5));a=t.createGraphics(400,400),a.strokeWeight(.5),a.stroke(255,150),o=h()},t.draw=()=>{t.background(10),t.noStroke(),t.fill(200);let r=h();i.forEach(s=>{let d=s.x,l=s.y,c=s.distFromEdge(),n=e.edges==="same"?o:e.edges==="sameEach"?s.edgeForce:e.edges==="random"?r:h(),w=(1-c.left/t.width)*n.left,y=(1-c.right/t.width)*n.right,x=(1-c.top/t.height)*n.top,E=(1-c.bottom/t.height)*n.bottom,F=new g.Vector(w-y,x-E);s.applyForce(F),s.update(),s.draw(),a.line(d,l,s.x,s.y)}),t.image(a,0,0)}});

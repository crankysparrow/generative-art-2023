import"../../modulepreload-polyfill-3cfb730f.js";import{p as v}from"../../p5.min-9f376f7a.js";/* empty css                  */import"../../_commonjsHelpers-725317a4.js";import"../../_commonjs-dynamic-modules-302442b1.js";new v(t=>{let f=document.querySelector("#btns"),d;t.setup=function(){t.createCanvas(window.innerWidth,window.innerHeight),t.createElement("pre").parent("btns"),t.createButton("save").parent("btns").mouseClicked(()=>t.saveCanvas(V(d),"jpg")),t.noLoop()};const w=e=>1/t.cos(e),V=e=>{const a=l=>t.round(l,2);return`a-${a(e.a)}--t-${a(e.translate.x)}-${a(e.translate.y)}--v1-${a(e.var1.x)}-${e.var1.y}--v2-${a(e.var2.x)}-${a(e.var2.y)}--n-${a(e.nSteps)}`};t.draw=function(){d={translate:t.createVector(t.random(-1,1),t.random(.7,2)*(t.random()<.5?-1:1)),var1:t.createVector(t.random(-1,1),t.random(-1,1)),var2:t.createVector(t.random(-1.5,2),t.random(-1,1)),nSteps:t.floor(t.random(20,200)),angleRange:t.random(.1,.5),a:t.random(-4,4)},t.push(),t.background(230),t.stroke(0),t.strokeWeight(.5),t.noFill(),t.translate(t.width/2,t.height/2),$(d),t.pop()},t.mouseClicked=function(e){e.target instanceof HTMLElement&&(!f||!f.contains(e.target))&&t.redraw()};function $({a:e=-2,translate:a=t.createVector(0,-1),var1:h=t.createVector(1,0),var2:l=t.createVector(1,1),nSteps:S=20,angleRange:k=.3}={}){let n=[t.PI*(1-k),t.PI],m=n[0],b=(n[1]-n[0])/S;const C=()=>{let o=[],i=[],r=n[0];for(;r<n[1];){let P=w(r)+e*t.cos(r),u=v.Vector.fromAngle(r).mult(P),x=u.copy().mult(a),E=u.copy().mult(h).rotate(r);x.add(E),o.push(t.abs(x.y)+t.abs(l.y*u.y)/2),i.push(t.abs(x.x)+t.abs(l.x*u.x)/2),r+=b}let c=t.max(o),s=t.max(i),A=t.height*.4/c,M=t.width*.4/s;return t.min(A,M)},y=o=>{let i=w(o)+e*t.cos(o),r=v.Vector.fromAngle(o).mult(i),c=r.copy().mult(h),s=r.copy().mult(l);t.push(),t.translate(r.copy().mult(a).mult(g)),t.rotate(o),c.mult(g),s.mult(g),t.ellipse(c.x,c.y,s.x,s.y),t.pop()};let g=C();for(;m<n[1];)y(m),y(-m),m+=b;y(n[1])}});
